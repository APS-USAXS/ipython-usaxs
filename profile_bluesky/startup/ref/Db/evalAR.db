# PVs:
# a - desired trajectory array
# b - number of trajectory points
# c - number of MCS channels acquired
# d -	position interval between MCS channel advances (PSO interval=="MinStep")
# e - MCS channel 1 array (50 MHz clock)
# f - trajectory time array
# 
# VALD - time at each MCS point
# VALE - desired AR trajectory AR(VALD)
# VALF - measured AR trajectory ARmeas(VALD)
# VALG - measured-desired

record(aSub, "$(P)evalAR") {
	field(INAM, "evalAR_init")
	field(SNAM, "evalAR_do")
	field(PREC, "5")
	field(EFLG, "ON CHANGE")

	field(FTA, "DOUBLE")
	field(NOA, "$(NTRAJ)")
	field(INPA, "$(P)traj1:M1Traj")

	field(FTB, "LONG")
	field(NOB, "1")
	field(INPB, "$(P)traj1:Nelements")

	field(FTC, "LONG")
	field(NOC, "1")
	field(INPC, "$(MCS)CurrentChannel")

	field(FTD, "DOUBLE")
	field(NOD, "1")
	field(INPD, "$(P)USAXS:MinStep")

	field(FTE, "LONG")
	field(NOE, "$(NPULSES)")
	field(INPE, "$(MCS)mca1")

	field(FTF, "DOUBLE")
	field(NOF, "$(NTRAJ)")
	field(INPF, "$(P)traj1:realTimeTrajectory")

	field(FTVD, "DOUBLE")
	field(NOVD, "$(NPULSES)")
	field(FTVE, "DOUBLE")
	field(NOVE, "$(NPULSES)")
	field(FTVF, "DOUBLE")
	field(NOVF, "$(NPULSES)")
	field(FTVG, "DOUBLE")
	field(NOVG, "$(NPULSES)")
}
