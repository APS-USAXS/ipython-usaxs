#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBD("/home/oxygen1/HAMMONDS/synAppps/dbd/iocjph.dbd")
#! DBDEND


record(ao, "$(P)ci94:setRate") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol RCmd $(PORT)")
  field(LINR, "LINEAR")
  field(ASLO, "0.01")
  field(PREC, "2")
}

record(ao, "$(P)ci94:setLimit") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol LCmd $(PORT)")
  field(LINR, "LINEAR")
  field(ASLO, "0.1")
  field(PREC, "1")
}

record(longout, "$(P)ci94:setSpeed") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol PSpdCmd $(PORT)")
  field(HOPR, "30")
  field(LOPR, "0")
}

record(bo, "$(P)ci94:clearBuffer") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol BCmd $(PORT)")
}

record(bo, "$(P)ci94:endAfterProfile") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol SPCmd $(PORT)")
}

record(bo, "$(P)ci94:endOnStop") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol SCCmd $(PORT)")
}

record(bo, "$(P)ci94:start") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol SCmd $(PORT)")
}

record(bo, "$(P)ci94:stop") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol ECmd $(PORT)")
}

record(bo, "$(P)ci94:hold") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol OCmd $(PORT)")
}

record(bo, "$(P)ci94:pumpMode") {
  field(DTYP, "stream")
  field(OUT, "@ci94.protocol PCtrlCmd $(PORT)")
  field(ZNAM, "Automatic")
  field(ONAM, "Manual")
}

record(mbbi, "$(P)ci94:status") {
  field(DTYP, "Raw Soft Channel")
  field(NOBT, "6")
  field(INP, "$(P)ci94:statusIn")
  field(ZRVL, "1")
  field(ONVL, "16")
  field(TWVL, "32")
  field(THVL, "48")
  field(FRVL, "64")
  field(FVVL, "80")
  field(ZRST, "Stopped")
  field(ONST, "Heating")
  field(TWST, "Cooling")
  field(THST, "limit end ramp")
  field(FRST, "HoldLimit Time")
  field(FVST, "Hold cur Temp")
  field(FLNK, "$(P)ci94:errorByte")
}

record(mbbi, "$(P)ci94:errorByte") {
  field(NOBT, "8")
  field(FLNK, "$(P)ci94:genStat")
}

record(mbbi, "$(P)ci94:genStat") {
  field(NOBT, "8")
  field(FLNK, "$(P)ci94:pumpSpeedIn")
}

record(asyn, "$(P)ci94:asyn") {
  field(PORT, "$(PORT)")
}

record(longin, "$(P)ci94:pumpSpeedIn") {
  field(FLNK, "$(P)ci94:tempIn")
}

record(calc, "$(P)ci94:pumpSpeed") {
  field(CALC, "A&B")
  field(INPA, "$(P)ci94:pumpSpeedIn CP")
  # This doesn't work. 0x1F wasn't being converted into 31
  #field(INPB, "0x0000001F")
  field(B,    "31")
  field(HOPR, "30")
  field(LOPR, "0")
}

record(bo, "$(P)ci94:scanDis") {
  field(ZNAM, "Enabled")
  field(ONAM, "Disabled")
}

record(ai, "$(P)ci94:tempIn") {
  field(PREC, "2")
}

record(calc, "$(P)ci94:temp") {
  field(CALC, "A>B?(A-C)/D:A/D")
  field(INPA, "$(P)ci94:tempIn CP")
  field(INPB, "15000")
  field(INPC, "65536")
  field(INPD, "10")
  field(PREC, "2")
}

record(ai, "$(P)ci94:dscIn") {
  field(PREC, "2")
}

record(calc, "$(P)ci94:dsc") {
  field(CALC, "A>B?(A-C):A")
  field(INPA, "$(P)ci94:dscIn CP")
  field(INPB, "32764")
  field(INPC, "65536")
}

record(ai, "$(P)ci94:temp2In") {
  field(PREC, "2")
  field(FLNK, "$(P)ci94:dscIn")
}

record(calc, "$(P)ci94:temp2") {
  field(CALC, "A>B?(A-C)/D:A/D")
  field(INPA, "$(P)ci94:temp2In CP")
  field(INPB, "15000")
  field(INPC, "65536")
  field(INPD, "10")
  field(PREC, "2")
}

record(longin, "$(P)ci94:statusIn") {
  field(FLNK, "$(P)ci94:status")
}

record(longout, "$(P)ci94:test") {
}

record(ai, "$(P)ci94:DCmd") {
  field(DTYP, "stream")
  field(INP, "@ci94.protocol DCmd($(P)ci94:) $(PORT)")
  field(SCAN, "10 second")
  field(FLNK, "$(P)ci94:temp2In")
  field(SDIS, "$(P)ci94:scanDis")
}

record(ai, "$(P)ci94:TCmd") {
  field(DTYP, "stream")
  field(INP, "@ci94.protocol TCmd($(P)ci94:) $(PORT)")
  field(SCAN, "10 second")
  field(FLNK, "$(P)ci94:statusIn PP MS")
  field(SDIS, "$(P)ci94:scanDis")
}

#! Further lines contain data used by VisualDCT
#! View(1000,802,0.6)
#! Record("$(P)ci94:setRate",2420,2152,0,1,"$(P)ci94:setRate")
#! Record("$(P)ci94:setLimit",2420,2292,0,1,"$(P)ci94:setLimit")
#! Record("$(P)ci94:setSpeed",2240,2147,0,1,"$(P)ci94:setSpeed")
#! Record("$(P)ci94:clearBuffer",2620,2355,0,1,"$(P)ci94:clearBuffer")
#! Record("$(P)ci94:endAfterProfile",2840,2495,0,1,"$(P)ci94:endAfterProfile")
#! Record("$(P)ci94:endOnStop",2840,2375,0,1,"$(P)ci94:endOnStop")
#! Record("$(P)ci94:start",2620,2095,0,1,"$(P)ci94:start")
#! Record("$(P)ci94:stop",2620,2235,0,1,"$(P)ci94:stop")
#! Record("$(P)ci94:hold",2840,2235,0,1,"$(P)ci94:hold")
#! Record("$(P)ci94:pumpMode",2240,2287,0,1,"$(P)ci94:pumpMode")
#! Record("$(P)ci94:status",2280,1714,0,0,"$(P)ci94:status")
#! Field("$(P)ci94:status.INP",16777215,0,"$(P)ci94:status.INP")
#! Link("$(P)ci94:status.INP","$(P)ci94:statusIn.VAL")
#! Field("$(P)ci94:status.FLNK",16777215,1,"$(P)ci94:status.FLNK")
#! Link("$(P)ci94:status.FLNK","$(P)ci94:errorByte")
#! Record("$(P)ci94:errorByte",2540,1935,0,0,"$(P)ci94:errorByte")
#! Field("$(P)ci94:errorByte.FLNK",16777215,1,"$(P)ci94:errorByte.FLNK")
#! Link("$(P)ci94:errorByte.FLNK","$(P)ci94:genStat")
#! Record("$(P)ci94:genStat",2800,1935,0,0,"$(P)ci94:genStat")
#! Field("$(P)ci94:genStat.FLNK",16777215,1,"$(P)ci94:genStat.FLNK")
#! Link("$(P)ci94:genStat.FLNK","$(P)ci94:pumpSpeedIn")
#! Record("$(P)ci94:asyn",2840,2110,0,1,"$(P)ci94:asyn")
#! Record("$(P)ci94:pumpSpeedIn",3060,1990,0,0,"$(P)ci94:pumpSpeedIn")
#! Field("$(P)ci94:pumpSpeedIn.VAL",16777215,0,"$(P)ci94:pumpSpeedIn.VAL")
#! Field("$(P)ci94:pumpSpeedIn.FLNK",16777215,1,"$(P)ci94:pumpSpeedIn.FLNK")
#! Link("$(P)ci94:pumpSpeedIn.FLNK","$(P)ci94:tempIn")
#! Record("$(P)ci94:pumpSpeed",3300,1932,0,1,"$(P)ci94:pumpSpeed")
#! Field("$(P)ci94:pumpSpeed.INPA",16777215,0,"$(P)ci94:pumpSpeed.INPA")
#! Link("$(P)ci94:pumpSpeed.INPA","$(P)ci94:pumpSpeedIn.VAL")
#! Record("$(P)ci94:scanDis",1360,2255,0,1,"$(P)ci94:scanDis")
#! Field("$(P)ci94:scanDis.VAL",16777215,1,"$(P)ci94:scanDis.VAL")
#! Record("$(P)ci94:tempIn",3500,2070,0,0,"$(P)ci94:tempIn")
#! Field("$(P)ci94:tempIn.VAL",16777215,1,"$(P)ci94:tempIn.VAL")
#! Record("$(P)ci94:temp",3760,1999,0,1,"$(P)ci94:temp")
#! Field("$(P)ci94:temp.INPA",16777215,0,"$(P)ci94:temp.INPA")
#! Link("$(P)ci94:temp.INPA","$(P)ci94:tempIn.VAL")
#! Record("$(P)ci94:dscIn",2220,2650,0,0,"$(P)ci94:dscIn")
#! Field("$(P)ci94:dscIn.VAL",16777215,1,"$(P)ci94:dscIn.VAL")
#! Record("$(P)ci94:dsc",2500,2567,0,1,"$(P)ci94:dsc")
#! Field("$(P)ci94:dsc.INPA",16777215,0,"$(P)ci94:dsc.INPA")
#! Link("$(P)ci94:dsc.INPA","$(P)ci94:dscIn.VAL")
#! Record("$(P)ci94:temp2In",1960,2495,0,0,"$(P)ci94:temp2In")
#! Field("$(P)ci94:temp2In.VAL",16777215,1,"$(P)ci94:temp2In.VAL")
#! Field("$(P)ci94:temp2In.FLNK",16777215,1,"$(P)ci94:temp2In.FLNK")
#! Link("$(P)ci94:temp2In.FLNK","$(P)ci94:dscIn")
#! Record("$(P)ci94:temp2",2220,2439,0,1,"$(P)ci94:temp2")
#! Field("$(P)ci94:temp2.INPA",16777215,0,"$(P)ci94:temp2.INPA")
#! Link("$(P)ci94:temp2.INPA","$(P)ci94:temp2In.VAL")
#! Record("$(P)ci94:statusIn",1980,1990,0,0,"$(P)ci94:statusIn")
#! Field("$(P)ci94:statusIn.VAL",16777215,1,"$(P)ci94:statusIn.VAL")
#! Field("$(P)ci94:statusIn.FLNK",16777215,1,"$(P)ci94:statusIn.FLNK")
#! Link("$(P)ci94:statusIn.FLNK","$(P)ci94:status")
#! Record("$(P)ci94:test",1980,1764,0,1,"$(P)ci94:test")
#! Record("$(P)ci94:DCmd",1660,2312,0,1,"$(P)ci94:DCmd")
#! Field("$(P)ci94:DCmd.SDIS",16777215,0,"$(P)ci94:DCmd.SDIS")
#! Link("$(P)ci94:DCmd.SDIS","$(P)ci94:scanDis.VAL")
#! Field("$(P)ci94:DCmd.FLNK",16777215,1,"$(P)ci94:DCmd.FLNK")
#! Link("$(P)ci94:DCmd.FLNK","$(P)ci94:temp2In")
#! Record("$(P)ci94:TCmd",1680,2032,0,0,"$(P)ci94:TCmd")
#! Field("$(P)ci94:TCmd.SDIS",16777215,0,"$(P)ci94:TCmd.SDIS")
#! Link("$(P)ci94:TCmd.SDIS","$(P)ci94:scanDis.VAL")
#! Field("$(P)ci94:TCmd.FLNK",16777215,1,"$(P)ci94:TCmd.FLNK")
#! Link("$(P)ci94:TCmd.FLNK","$(P)ci94:statusIn")
