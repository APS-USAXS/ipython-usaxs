# USAXSterms.db
# moved into USAXS VME 2005-05-20
#

grecord(ao,        "9idcLAX:USAXS:SAD")
grecord(ao,        "9idcLAX:USAXS:SDD")
grecord(stringout, "9idcLAX:USAXS:sampleTitle")
grecord(stringout, "9idcLAX:USAXS:specFile")
grecord(longout,   "9idcLAX:USAXS:specScan")
grecord(stringout, "9idcLAX:USAXS:state")
grecord(stringout, "9idcLAX:USAXS:timeStamp")
grecord(stringout, "9idcLAX:USAXS:userDir")
grecord(stringout, "9idcLAX:USAXS:userName")
grecord(stringout, "9idcLAX:USAXS:macroFile")
grecord(stringout, "9idcLAX:USAXS:macroFileTime")
grecord(stringout, "9idcLAX:USAXS:CrystalsMStage")
{
    field(DESC, "Xtals installed, order used on M stage")
}
grecord(stringout, "9idcLAX:USAXS:CrystalsAStage")
{
    field(DESC, "Xtals installed, order used on M stage")
}
grecord(stringout, "9idcLAX:USAXS:StartExpTimeStamp")
grecord(stringout, "9idcLAX:USAXS:EndExpTimeStamp")

grecord(ao,        "9idcLAX:USAXS:MRcenter")
grecord(ao,        "9idcLAX:USAXS:MSRcenter")
grecord(ao,        "9idcLAX:USAXS:ARcenter")
grecord(ao,        "9idcLAX:USAXS:ARstart")
grecord(ao,        "9idcLAX:USAXS:ASRcenter")
grecord(ao,        "9idcLAX:USAXS:AY0")
grecord(ao,        "9idcLAX:USAXS:DY0")
grecord(ao,        "9idcLAX:USAXS:CountTime")
grecord(ao,        "9idcLAX:USAXS:NumPoints")
grecord(ao,        "9idcLAX:USAXS:Sample_Y_Step")
grecord(ao,        "9idcLAX:USAXS:UATerm")
grecord(ao,        "9idcLAX:USAXS:CCD_dx")
grecord(ao,        "9idcLAX:USAXS:CCD_dy")
grecord(ao,        "9idcLAX:USAXS:Diode_dx")
grecord(ao,        "9idcLAX:USAXS:Diode_dy")
grecord(ao,        "9idcLAX:USAXS:Img_Al_Filter")
grecord(ao,        "9idcLAX:USAXS:Img_Ti_Filter")
grecord(ao,        "9idcLAX:USAXS:Scan_Al_Filter")
grecord(ao,        "9idcLAX:USAXS:Scan_Ti_Filter")
grecord(ao,        "9idcLAX:USAXS:MinStep")
grecord(ao,        "9idcLAX:USAXS:MinStepTraj")
grecord(ao,        "9idcLAX:USAXS:Prescaler_Wait")
grecord(ao,        "9idcLAX:USAXS:M_FWHM")
grecord(ao,        "9idcLAX:USAXS:M_COM")
grecord(ao,        "9idcLAX:USAXS:MS_FWHM")
grecord(ao,        "9idcLAX:USAXS:MS_COM")
grecord(ao,        "9idcLAX:USAXS:AS_FWHM")
grecord(ao,        "9idcLAX:USAXS:AS_COM")
grecord(ao,        "9idcLAX:USAXS:A_FWHM")
grecord(ao,        "9idcLAX:USAXS:A_COM")
grecord(ao,        "9idcLAX:USAXS:SampleThickness")
grecord(ao,        "9idcLAX:USAXS:is2DUSAXSscan")
grecord(ao,        "9idcLAX:USAXS:UPDsize")

# FlyScan needs tranmsission values as epics PVs...
grecord(ao,        "9idcLAX:USAXS:TR_MeasurePinTrans")
grecord(ao,        "9idcLAX:USAXS:TR_AyPosition")
grecord(ao,        "9idcLAX:USAXS:TR_MeasurementTime")
grecord(ao,        "9idcLAX:USAXS:TR_pinCounts")
grecord(ao,        "9idcLAX:USAXS:TR_pinGain")
grecord(ao,        "9idcLAX:USAXS:TR_I0Counts")
grecord(ao,        "9idcLAX:USAXS:TR_I0Gain")



# 2008-10-17,PRJ:  Jan wants a couple more; have fun
grecord(ao,        "9idcLAX:USAXS:Finish")
grecord(ao,        "9idcLAX:USAXS:StartOffset")

# 2010-09-10,KMP   Pete needs a couple more
grecord(bo, "9idcLAX:USAXS:scanning") 
{
    field(DESC, "USAXS scanning?")
    field(ZNAM, "no")
    field(ONAM, "scanning")
}

grecord(stringout, "9idcLAX:USAXS:scanMacro")
{
    field(DESC, "name of spec scan macro")
}

grecord(stringout, "9idcLAX:USAXS:specMacro")
{
    field(DESC, "SPEC user macro file name")
}
# 2014-01 JIL - Flyscan suppport parameters
grecord(ao,        "9idcLAX:USAXS:FS_NumberOfPoints")
grecord(ao,        "9idcLAX:USAXS:FS_ScanTime")
grecord(ao,        "9idcLAX:USAXS:FS_ArStartAyDyMove")
grecord(ao,        "9idcLAX:USAXS:FS_ElapsedTime")
grecord(ao,        "9idcLAX:USAXS:FS_AmpR1BlockTime")
{
    field(EGU, "s")
    field(PREC, "2")
}
grecord(ao,        "9idcLAX:USAXS:FS_AmpR2BlockTime")
{
    field(EGU, "s")
    field(PREC, "2")
}
grecord(ao,        "9idcLAX:USAXS:FS_AmpR3BlockTime")
{
    field(EGU, "s")
    field(PREC, "2")
}
grecord(ao,        "9idcLAX:USAXS:FS_AmpR4BlockTime")
{
    field(EGU, "s")
    field(PREC, "2")
}
grecord(ao,        "9idcLAX:USAXS:FS_AmpR5BlockTime")
{
    field(EGU, "s")
    field(PREC, "2")
}
grecord(ao,        "9idcLAX:USAXS:FS_timeout")
{
    field(EGU, "s")
    field(PREC, "2")
}
grecord(longout,   "9idcLAX:USAXS:FS_OrderNumber")
grecord(ao, "9idcLAX:3820:clock_frequency") {
  field(DESC, "clock freq for struck")
  field(VAL,  "50000000")
  field(EGU,  "Hz")
}

# 2014-08-26, JIL   Add switch to change between step and fly scans
grecord(ao, "9idcLAX:USAXS:UseFlyscan") 

# preUSAXS tune handling PVs
grecord(ao, "9idcLAX:USAXS:NumScansFromLastTune") 
{
    field(DESC, "Scans from preUSAXStune")
}

grecord(ao, "9idcLAX:USAXS:EPOCHTimeOfLastTune") 
{
    field(DESC, "EPOCH time of the last preUSAXStune")
}
 
 grecord(ao, "9idcLAX:USAXS:ReqNumScansBetweenTune") 
{
    field(DESC, "Requested scans betwen preUSAXStunes")
}

grecord(ao, "9idcLAX:USAXS:ReqTimeBetweenTune") 
{
    field(DESC, "Requested max time between preUSAXStune")
}

grecord(longout, "9idcLAX:USAXS:RunPreUSAXStuneNext") 
{
    field(DESC, "Force preUSAXStune")
}

grecord(longout, "9idcLAX:USAXS:RunPreUSAXStuneOnQdo") 
{
    field(DESC, "preUSAXStune on qdo")
}

# Stop on next scan handling PVs
grecord(longout, "9idcLAX:USAXS:StopBeforeNextScan") 
{
    field(DESC, "Stop USAXS SAXS WAXS")
}
# Pause before next scan handling PVs
grecord(longout, "9idcLAX:USAXS:PauseBeforeNextScan") 
{
    field(DESC, "Pause USAXS SAXS WAXS")
}

grecord(ao,        "9idcLAX:USAXS:FlyScanNotSaved")
{
    field(DESC, "0 when Python wrote data file")
}


#######   USAXS Imaging PVs
# 2017-03-17, JIL, add USAXS_Imaging PVs 

### strings first

grecord(stringout, "9idcLAX:USAXS_Img:LensType")
{
    field(DESC, "Lens type")
}
grecord(stringout, "9idcLAX:USAXS_Img:ScintillatorType")
{
    field(DESC, "Scitillator description")
}
grecord(stringout, "9idcLAX:USAXS_Img:CrystalsMStage")
{
    field(DESC, "Xtals installed, order used on M stage")
}
grecord(stringout, "9idcLAX:USAXS_Img:CrystalsAStage")
{
    field(DESC, "Xtals installed, order used on M stage")
}
grecord(stringout, "9idcLAX:USAXS_Img:FlatFieldImage")
{
    field(DESC, "Location and name of Flat Field Image")
}
grecord(stringout, "9idcLAX:USAXS_Img:DarkFieldImage")
{
    field(DESC, "Location and name of Dark Field Image")
}
grecord(stringout, "9idcLAX:USAXS_Img:ExperimentTitle")
{
    field(DESC, "Experiment title user input")
}
grecord(stringout, "9idcLAX:USAXS_Img:StartExposureTime")
{
    field(DESC, "Start of Imaing exposure")
}
grecord(stringout, "9idcLAX:USAXS_Img:EndExposureTime")
{
    field(DESC, "End of Imaging exposure")
}




### Variables next
grecord(ao, "9idcLAX:USAXS_Img:ImageKey") 
{
    field(DESC, "0-image, 1-flat field, 2-dark field")
    field(PREC, "0")
}
grecord(ao, "9idcLAX:USAXS_Img:ExposureTime") 
{
    field(DESC, "Imaging camera ExposureTime")
    field(PREC, "2")
}
grecord(ao, "9idcLAX:USAXS_Img:Magnification") 
{
    field(DESC, "Imaging camera magnification")
    field(PREC, "0")
}
grecord(ao, "9idcLAX:USAXS_Img:SampleToScintDistance") 
{
    field(DESC, "Sample to Scint distance")
    field(EGU, "mm")
    field(PREC, "2")
}
grecord(ao, "9idcLAX:USAXS_Img:ScintToAnalDistance") 
{
    field(DESC, "Scint to Analyzer distance")
    field(EGU, "mm")
    field(PREC, "2")
}

grecord(ao, "9idcLAX:USAXS_Img:ImgPixSizeX") 
{
    field(DESC, "Apogee camera pixel size X")
    field(EGU, "mm")
    field(PREC, "3")
}
grecord(ao, "9idcLAX:USAXS_Img:ImgPixSizeY") 
{
    field(DESC, "Apogee camera pixel size Y")
    field(EGU, "mm")
    field(PREC, "3")
}
grecord(ao, "9idcLAX:USAXS_Img:ax_in") 
{
    field(DESC, "Ax for USAXS Imaging mode")
    field(EGU, "mm")
    field(PREC, "2")
}
grecord(ao, "9idcLAX:USAXS_Img:waxs_x_in") 
{
    field(DESC, "Waxs_x for USAXS Imaging mode")
    field(EGU, "mm")
    field(PREC, "2")
}
grecord(ao, "9idcLAX:USAXS_Img:ImgHorApperture") 
{
    field(DESC, "Horiz aperture for USAXS Imaging mode")
    field(EGU, "mm")
    field(PREC, "2")
}
grecord(ao, "9idcLAX:USAXS_Img:ImgVertApperture") 
{
    field(DESC, "Vertical apt for USAXS Imaging mode")
    field(EGU, "mm")
    field(PREC, "2")
}
grecord(ao, "9idcLAX:USAXS_Img:ImgGuardHorApperture") 
{
    field(DESC, "Horiz Guard slits apt for USAXS I-mode")
    field(EGU, "mm")
    field(PREC, "2")
}
grecord(ao, "9idcLAX:USAXS_Img:ImgGuardVertApperture") 
{
    field(DESC, "Vert Guard slits apt for USAXS I-mode")
    field(EGU, "mm")
    field(PREC, "2")
}
grecord(ao,        "9idcLAX:USAXS_Img:Img_Al_Filters")
{
    field(DESC, "Imaging Al filters")
    field(EGU, "")
    field(PREC, "0")
}
grecord(ao,        "9idcLAX:USAXS_Img:Img_Ti_Filters")
{
    field(DESC, "Imaging Ti filters")
    field(EGU, "")
    field(PREC, "0")
}
grecord(ao,        "9idcLAX:USAXS_Img:Img_FilterTransmission")
{
    field(DESC, "Imaging Transmission of the filters")
    field(EGU, "")
    field(PREC, "6")
}

grecord(ao,        "9idcLAX:USAXS_Img:Tomo_Rot_Angle")
{
    field(DESC, "Rotational angle tomography")
    field(EGU, "deg")
    field(PREC, "2")
}
grecord(ao,        "9idcLAX:USAXS_Img:Img_I0_value")
{
    field(DESC, "I0 counts during exposure")
    field(EGU, "cts")
    field(PREC, "0")
}
grecord(ao,        "9idcLAX:USAXS_Img:Img_I0_gain")
{
    field(DESC, "I0 gain during exposure")
    field(EGU, "")
    field(PREC, "0")
}
